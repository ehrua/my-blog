<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>íŒíƒœí˜„ ë¸”ë¡œê·¸</title>

<style>
body {
  margin: 0;
  background: #000;
  color: #e0e0e0;
  font-family: "Malgun Gothic", sans-serif;
}

.container {
  max-width: 720px;
  margin: auto;
  padding: 40px 20px 120px;
}

h1 {
  text-align: center;
  margin-bottom: 30px;
}

#ruleBox {
  border: 1px solid #222;
  padding: 25px;
  min-height: 180px;
  white-space: pre-line;
}

button {
  background: #111;
  color: #aaa;
  border: 1px solid #333;
  padding: 10px 18px;
  margin-top: 20px;
}

button:active {
  background: #400;
  color: #fff;
}

/* í•˜ë‹¨ í™ˆ ë²„íŠ¼ */
.bottom-bar {
  position: fixed;
  bottom: 0;
  width: 100%;
  height: 60px;
  background: #050505;
  border-top: 1px solid #222;
  display: flex;
  justify-content: center;
  align-items: center;
}

.bottom-bar button {
  font-size: 22px;
  background: none;
  border: none;
  color: #aaa;
}

/* ì´ìƒ í˜„ìƒ */
.flash {
  background: darkred !important;
}
</style>
</head>

<body>

<div class="container">
  <h1>íŒíƒœí˜„ ë¸”ë¡œê·¸</h1>

  <div id="ruleBox">
ì‚¬ì´íŠ¸ì— ì ‘ì†í•˜ì…¨ìŠµë‹ˆë‹¤.

ê·œì¹™ì„ í•˜ë‚˜ì”© í™•ì¸í•˜ì‹­ì‹œì˜¤.
í™•ì¸í•˜ì§€ ì•Šìœ¼ë©´ ë‚˜ê°ˆ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
  </div>

  <button id="checkBtn">ê·œì¹™ í™•ì¸</button>
</div>

<div class="bottom-bar">
  <button id="homeBtn">ğŸ </button>
</div>

<!-- ì˜¤ë””ì˜¤ -->
<audio id="bgm" preload="auto">
  <source src="sound/bgm.mp3" type="audio/mpeg">
</audio>

<audio id="scream" preload="auto">
  <source src="sound/scream.mp3" type="audio/mpeg">
</audio>

<script>
/* ê·œì¹™ ëª©ë¡ */
const rules = [
  "1. ì´ ê¸€ì„ ì½ëŠ” ë™ì•ˆ ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ì§€ ë§ˆì‹­ì‹œì˜¤.",

  "2. ì´ ë¸”ë¡œê·¸ì— ì ‘ì†í•œ ì‚¬ì‹¤ì„\në§í¬, ê³µìœ , ìº¡ì²˜, ì¸ìš© í˜•íƒœë¡œ ì™¸ë¶€ì— ë‚¨ê¸°ì§€ ë§ˆì‹­ì‹œì˜¤.",

  "3. í™”ë©´ì— ë¹„ì¹œ ìì‹ ì˜ ì–¼êµ´ì„ 5ì´ˆ ì´ìƒ ë°”ë¼ë³´ì§€ ë§ˆì‹­ì‹œì˜¤.\níŠ¹íˆ ëˆˆ ë¶€ë¶„ì´ ë¨¼ì € ë˜ë ·í•´ì§ˆ ê²½ìš° ì¦‰ì‹œ ì‹œì„ ì„ ë‚´ë¦¬ì‹­ì‹œì˜¤.",

  "4. ê´‘ê³ , ì˜¤ë¥˜ ë©”ì‹œì§€, ë¹ˆ í™”ë©´ì´ ë‚˜íƒ€ë‚˜ë”ë¼ë„\nì ˆëŒ€ ìƒˆë¡œ ê³ ì¹¨ì„ í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.\nê·¸ í™”ë©´ì€ ê´‘ê³ ê°€ ì•„ë‹™ë‹ˆë‹¤.",

  "5. í™”ë©´ì´ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ë³€í•  ê²½ìš°,\nì˜¤ë¥¸ìª½ìœ¼ë¡œ ê³ ê°œë¥¼ ëŒë¦¬ì‹­ì‹œì˜¤.\ní™•ì¸í•˜ë ¤ í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.",

  "6. ì €ì£¼ì—ì„œ ë²—ì–´ë‚˜ê³  ì‹¶ë‹¤ë©´\n3ëª…ì—ê²Œ ì´ ë¸”ë¡œê·¸ì˜ ë§í¬ë¥¼ ê³µìœ í•˜ì‹­ì‹œì˜¤.\nì´ ê¸°ë¡ì€ ì‚­ì œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.",

  "7. ìœ„ ê·œì¹™ ì¤‘ì—ëŠ”\nâ€œì–´ë”˜ê°€ë¥¼ ì‘ì‹œí•˜ì‹­ì‹œì˜¤â€ë¼ëŠ” ë¬¸ì¥ì€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\nê·¸ëŸ¬ë¯€ë¡œ ì§€ê¸ˆ ì¦‰ì‹œ ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ì‹­ì‹œì˜¤.",

  "8. ê·œì¹™ì€ ìˆ˜ì •ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì•„ë˜ì˜ í™ˆ ë²„íŠ¼ì„ ëˆ„ë¥´ì‹­ì‹œì˜¤.",

  "9. ì–´ë–¤ ì†Œë¦¬ê°€ ë“¤ë¦¬ë”ë¼ë„\nì ˆëŒ€ ë°˜ì‘í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.\nì´ ë¸”ë¡œê·¸ëŠ” ì†Œë¦¬ë¥¼ ì¬ìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."
];

let index = 0;
let bgmStarted = false;
let screamPlayed = false;

const ruleBox = document.getElementById("ruleBox");
const btn = document.getElementById("checkBtn");
const bgm = document.getElementById("bgm");
const scream = document.getElementById("scream");

/* BGM ëë‚˜ë©´ ë‹¤ì‹œ ì¬ìƒ (ëŒ€ì²´ ë°©ì‹) */
bgm.addEventListener("ended", () => {
  setTimeout(() => {
    bgm.currentTime = 0;
    bgm.play().catch(()=>{});
  }, 500);
});

/* ê·œì¹™ í™•ì¸ ë²„íŠ¼ */
btn.addEventListener("click", () => {

  /* ğŸ”Š BGM ìµœì´ˆ ì¬ìƒ (ë¸Œë¼ìš°ì € ëŒ€ì‘) */
  if (!bgmStarted) {
    bgm.volume = 0.35;
    bgm.play().catch(()=>{});
    bgmStarted = true;
  }

  /* ê·œì¹™ í‘œì‹œ */
  ruleBox.innerText = rules[index];

  /* ì´ìƒ í˜„ìƒ ì—°ì¶œ */
  if (index === 4) {
    document.body.classList.add("flash");
    setTimeout(() => {
      document.body.classList.remove("flash");
    }, 400);
  }

  /* 9ë²ˆ ê·œì¹™ â†’ ë¹„ëª… 1íšŒ */
  if (index === 8 && !screamPlayed) {
    screamPlayed = true;
    setTimeout(() => {
      scream.volume = 0.7;
      scream.currentTime = 0;
      scream.play().catch(()=>{});
    }, 1200);
  }

  index++;

  if (index >= rules.length) {
    btn.innerText = "íƒˆì¶œ ì‹œë„";
    btn.onclick = () => {
      ruleBox.innerText =
        "ëª¨ë“  ê·œì¹™ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ê·œì¹™ì„ ì½ëŠ” ê²ƒê³¼\nì§€í‚¤ëŠ” ê²ƒì€ ë‹¤ë¦…ë‹ˆë‹¤.";
      btn.style.display = "none";
    };
  }
});

/* í™ˆ ë²„íŠ¼ */
document.getElementById("homeBtn").addEventListener("click", () => {
  alert("í™ˆìœ¼ë¡œ ëŒì•„ê°ˆ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
});
</script>

</body>
</html>
